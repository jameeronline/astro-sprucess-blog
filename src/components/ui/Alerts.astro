---
const { type, title, message, closeBtn } = Astro.props;
---
{/*
    Dynamic alert component:
    - type selects the modifier class (danger, info, success, warning)
    - if title, message or closeBtn is provided we render the richer alert (caption + optional close button)
    - otherwise we render a single-line alert with a sensible default message
*/}

{(title || message || closeBtn) ? (
    <div class={`alert alert--${type ?? 'info'}`} role="alert">
        <div class="alert__caption">
            { title && (
                <p><strong>{ title }</strong></p>
            ) }
            <p>{ message ?? `This is a generic alert message.` }</p>
        </div>

        { closeBtn ? (
            <button class="alert__close" aria-label="Close alert">
                <svg aria-hidden="true" fill="none" focusable="false" height="24" stroke-linecap="round" stroke-linejoin="round" stroke-width="3.5" stroke="currentColor" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        ) : null}
    </div>
) : (
    <div class={`alert alert--${type ?? 'info'}`} role="alert">
        { `Hello, this is a ${(type === 'danger' ? 'danger' : type === 'success' ? 'success' : type === 'warning' ? 'warning' : 'info')} type alert message` }
    </div>
)}
